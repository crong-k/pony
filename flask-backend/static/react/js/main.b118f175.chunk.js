(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(333)},143:function(e,t,a){},147:function(e,t){},149:function(e,t){},181:function(e,t){},182:function(e,t){},228:function(e,t){},229:function(e,t){},230:function(e,t){},332:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(29),i=a.n(o),l=a(18),c=a(19),s=a(23),u=a(20),m=a(24),g=(a(143),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component)),d=a(56),h=a(135),f=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("***DrawChart***",this.props.yFromParent),r.a.createElement("div",{className:"chart"},r.a.createElement(h.a,{data:{labels:["Bacterial","Early_blight","Healthy","Late_blight","Leaf_Mold","Septoria_leaf_spot","Spider_mites_Two_spotted_spider_mite","Target_Spot","YellowLeaf_Curl_Virus"],datasets:[{label:"Plant Disease",data:this.props.yFromParent,backgroundColor:["rgba(0, 0, 0, 0.4)","rgba(114, 56, 1, 0.4)","rgba(59, 139, 45, 0.4)","rgba(66, 34, 4, 0.4)","rgba(211, 190, 70, 0.4)","rgba(76, 62, 209, 0.4)","rgba(115, 113, 129, 0.4)","rgba(206, 106, 136, 0.4)","rgba(245, 188, 3, 0.4)"],borderWidth:1}]},options:{title:{display:!0,text:"Plant Disease Prediction",fontSize:30},legend:{display:!0,position:"right"}}}))}}]),t}(n.Component);f.defaultProps={yFromParent:[5,10,10,10,5,10,10,5,10]};var p=f,b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={image:"",imagePreviewUrl:"",imgData:"",predResult:[1,1,1,1,1,1,1,1,1]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleImageChange",value:function(e){var t=this,a=new FileReader,n=e.target.files[0];console.log("check 1"),a.onloadend=function(){t.setState({image:n,imagePreviewUrl:a.result})},a.readAsDataURL(n)}},{key:"getImageData",value:function(){var e=this.refs.noData;return console.log("check 2"),this.setState({imgData:this.refs.noData}),console.log("img_info",e),this.predictFromImage(e),e}},{key:"predictFromImage",value:function(e){var t=this;console.log("check 3"),d.b("/static/react/final_model/model.json").then(function(a){var n=e,r=d.a.fromPixels(n).toFloat(),o=d.c(255),i=r.div(o).reshape([1,256,256,3]),l=a.predict(i).dataSync();console.log("y_pred: ",l),t.setState({predResult:l})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;console.log("check 4 - render");var t=this.state.imagePreviewUrl,a=null,n=this.state.predResult;return a=t?r.a.createElement("img",{id:"input_img",ref:"noData",src:t}):r.a.createElement("img",{id:"no_img",ref:"noData",src:"/static/react/no-image.png"}),r.a.createElement("div",{className:"imagePreview"},r.a.createElement("input",{className:"imageInput",type:"file",onChange:function(t){e.handleImageChange(t),e.getImageData()}}),r.a.createElement("div",null,a,console.log("before_render: ",n),r.a.createElement(p,{yFromParent:n})),r.a.createElement("div",null))}}]),t}(n.Component),v=a(15),y=a(335),j=a(338),E=a(336),O=a(337),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(v.a)(Object(v.a)(a))),a.state={collapse:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{collapse:!e.collapse}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{color:"warning",size:"lg",onClick:this.toggle,style:{marginBottom:"1rem"}},"HELP !"),r.a.createElement(j.a,{isOpen:this.state.collapse},r.a.createElement(E.a,null,r.a.createElement(O.a,null,"Please upload a picture of green tea leaf. The prediction result is the output value of the SoftMax."))))}}]),t}(n.Component);a(331),a(332),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),i.a.render(r.a.createElement(w,null),document.getElementById("butt")),i.a.render(r.a.createElement(b,null),document.getElementById("img")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,1,2]]]);
//# sourceMappingURL=main.b118f175.chunk.js.map